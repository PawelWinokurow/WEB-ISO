<div class="inner-component">
    <div class="stepper-container">
        <mat-horizontal-stepper color="primary" linear="false" #stepper>

            <!--general information mat-step for person-->
            <mat-step *ngIf="storageService.customerType === 'person'" [stepControl]="generalInformation">
                <form [formGroup]="generalInformation">
                    <ng-template matStepLabel>{{dictionaryService.get('GENINF')}}</ng-template>
                    <div class="vertical-flex bottom-border top-border">
                        <div class="flex-column">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('GENINF')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('LEGFRM')}}</mat-label>
                                            <mat-select formControlName="legalForm" required>
                                                <mat-option *ngFor="let form of legalForms" [value]="form">
                                                    {{form.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of generalInformation.get('legalForm').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('LEGFRM', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('INTERFNUM')}}</mat-label>
                                            <input matInput formControlName="interfaceNumber">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('SAL')}}</mat-label>
                                            <mat-select formControlName="salutation">
                                                <mat-option *ngFor="let sal of salutations" [value]="sal">
                                                    {{sal.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of generalInformation.get('salutation').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('SAL', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('TITLE')}}</mat-label>
                                            <mat-select formControlName="title">
                                                <mat-option *ngFor="let title of titles" [value]="title">
                                                    {{title.details}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('FNAME')}}</mat-label>
                                            <input matInput formControlName="firstName" required>
                                            <mat-error
                                                *ngFor="let errorType of generalInformation.get('firstName').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('FNAME', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('SNAME')}}</mat-label>
                                            <input matInput formControlName="secondName" required>
                                            <mat-error
                                                *ngFor="let errorType of generalInformation.get('secondName').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('SNAME', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('ADNAME')}}</mat-label>
                                            <input matInput formControlName="additionalName">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('BRTH')}}</mat-label>
                                            <input matInput [matDatepicker]="birthDate" formControlName="birthDate"
                                                [required]="storageService.debitCreditType === 'debit'">
                                            <mat-datepicker-toggle matSuffix [for]="birthDate"></mat-datepicker-toggle>
                                            <mat-datepicker #birthDate></mat-datepicker>
                                            <mat-error
                                                *ngFor="let errorType of generalInformation.get('birthDate').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('BRTH', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="space"></div>
                    <div class="form-controls buttons-theme">
                        <span class="space"></span>
                        <button mat-stroked-button matStepperNext class="stepper-button">
                            <span>{{dictionaryService.get('NXT')}}</span>
                            <mat-icon style="margin-left: 5px;">forward</mat-icon>
                        </button>
                    </div>
                </form>
            </mat-step>

            <!--address information mat-step for person-->
            <mat-step *ngIf="storageService.customerType === 'person'" [stepControl]="contactInformation">
                <form [formGroup]="contactInformation">
                    <ng-template matStepLabel>{{dictionaryService.get('CONTINF')}}</ng-template>
                    <div class="vertical-flex bottom-border top-border bottom-border top-border">
                        <div class="flex-column">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('CONTINF')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 65%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('STR')}}</mat-label>
                                            <input matInput formControlName="street" required>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('street').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('STR', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 35%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('HNO')}}</mat-label>
                                            <input matInput formControlName="houseNumber" required>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('houseNumber').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('HNO', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 35% ">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('ZIP')}}</mat-label>
                                            <input matInput formControlName="zip" required>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('zip').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('ZIP', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 65%">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('CITY')}}</mat-label>
                                            <input matInput formControlName="city" required>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('city').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('CITY', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 100%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('COU')}}</mat-label>
                                            <mat-select formControlName="country" #singleSelect required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="countrySearchCtrl">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngFor="let country of filteredCountries | async"
                                                    [value]="country">
                                                    {{country.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('country').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('COU', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>


                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('MAILBX')}}</mat-label>
                                            <input matInput formControlName="mailbox">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('MAILBXZIP')}}</mat-label>
                                            <input matInput formControlName="zipMailbox">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('TEL')}}</mat-label>
                                            <input matInput formControlName="phone">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('FAX')}}</mat-label>
                                            <input matInput formControlName="fax">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('MOB')}}</mat-label>
                                            <input matInput formControlName="mobile">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('EMAIL')}}</mat-label>
                                            <input matInput formControlName="email">
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('email').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('EMAIL', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="space"></div>
                    <div class="form-controls buttons-theme">
                        <span class="space"></span>
                        <button mat-stroked-button class="stepper-button" matStepperPrevious #StepperControlButton>
                            <mat-icon style="margin-right: 5px; transform: rotate(180deg);">forward</mat-icon>
                            <span>{{dictionaryService.get('BCK')}}</span>
                        </button>
                        <button mat-stroked-button class="stepper-button" style="margin-left: 10px;" matStepperNext
                            #StepperControlButton>
                            <span>{{dictionaryService.get('NXT')}}</span>
                            <mat-icon style="margin-left: 5px;">forward</mat-icon>
                        </button>
                    </div>
                </form>
            </mat-step>

            <!--payment mat-step for person-->
            <mat-step [stepControl]="payment" *ngIf="storageService.customerType === 'person'">
                <form [formGroup]="payment">
                    <ng-template matStepLabel>{{dictionaryService.get('PAYINF')}}</ng-template>
                    <div class="vertical-flex bottom-border top-border">
                        <div class="flex-column">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('PAYINF')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('TAX')}}</mat-label>
                                            <input matInput formControlName="taxId">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('VAT')}}</mat-label>
                                            <input matInput formControlName="vatId">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('INDFI')}}</mat-label>
                                            <mat-select formControlName="industryField" required>
                                                <mat-option *ngFor="let field of listService.industryFields"
                                                    [value]="field">
                                                    {{field.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of payment.get('industryField').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('INDFI', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('INDFICODE')}}</mat-label>
                                            <mat-select [attr.disabled]="!payment.get('industryField').value"
                                                formControlName="industryFieldCode" #singleSelect required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="industryFieldCodesSearchCtrl">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngFor="let code of filteredFieldCodes | async"
                                                    [value]="code">
                                                    {{code.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of payment.get('industryFieldCode').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('INDFICODE', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex; margin-bottom: 20px; margin-left:10px">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <form [formGroup]="payment" appearance="outline" color="accent">
                                            <mat-label *ngIf="storageService.debitCreditType === 'debit'">
                                                {{dictionaryService.get('GSEPA')}}</mat-label>
                                            <mat-label *ngIf="storageService.debitCreditType === 'credit'">
                                                {{dictionaryService.get('HSEPA')}}</mat-label>
                                            <div style="margin-top: 10px;">
                                                <mat-radio-group formControlName="sepa">
                                                    <mat-radio-button [value]="true" (click)="setIbanRequired()">
                                                        {{dictionaryService.get('YES')}}
                                                    </mat-radio-button>
                                                    <mat-radio-button [value]="false" [checked]="true"
                                                        (click)="unsetIbanRequired()" style="margin-left:40px">
                                                        {{dictionaryService.get('NO')}}</mat-radio-button>
                                                </mat-radio-group>
                                            </div>
                                        </form>
                                    </div>
                                </div>


                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('IBA')}}</mat-label>
                                            <input matInput formControlName="iban"
                                                [required]="payment.get('sepa').value === true">
                                            <mat-error
                                                *ngIf="payment.get('sepa').value === true && payment.get('iban').invalid">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('IBA', 'required')}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div *ngIf="storageService.debitCreditType === 'debit'" class="paddinglr10px"
                                        style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('CRELMT')}}</mat-label>
                                            <input matInput formControlName="creditLimit">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 100%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('PAYTERMS')}}</mat-label>
                                            <mat-select formControlName="paymentTerm" required>
                                                <mat-option *ngFor="let term of paymentTerms" [value]="term">
                                                    {{term.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of payment.get('paymentTerm').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('PAYTERMS', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 100%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('REMARKS')}}</mat-label>
                                            <textarea matInput formControlName="notes" cdkTextareaAutosize
                                                maxlength="72" cdkAutosizeMinRows="4" cdkAutosizeMaxRows="4"></textarea>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="space"></div>
                    <div class="form-controls buttons-theme">
                        <span class="space"></span>
                        <button mat-stroked-button class="stepper-button" matStepperPrevious #StepperControlButton>
                            <mat-icon style="margin-right: 5px; transform: rotate(180deg);">forward</mat-icon>
                            <span>{{dictionaryService.get('BCK')}}</span>
                        </button>
                        <button mat-stroked-button class="stepper-button" style="margin-left: 10px;" matStepperNext
                            #StepperControlButton>
                            <span>{{dictionaryService.get('NXT')}}</span>
                            <mat-icon style="margin-left: 5px;">forward</mat-icon>
                        </button>
                    </div>

                </form>
            </mat-step>

            <!--upload mat-step for person-->
            <mat-step [stepControl]="upload" *ngIf="storageService.customerType === 'person'">
                <form [formGroup]="upload">
                    <ng-template matStepLabel>{{dictionaryService.get('ATTACH')}}</ng-template>
                    <div class="vertical-flex bottom-border top-border">
                        <div class="flex-column">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('ATTACH')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px buttons-theme" style="width: 50%;">
                                        <button mat-stroked-button style="height: 46px; width: 200px;" color="primary"
                                            (click)="fileInput.click()">
                                            <span>{{dictionaryService.get('ADDFILE')}}</span>
                                            <mat-icon style="margin-right: 5px;">attach_file</mat-icon>
                                        </button>
                                        <input type="file" #fileInput id="fileInput" (input)="uploadFile($event)"
                                            multiple="multiple" style="display:none;">
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-chip-list class="mat-chip-list-stacked">
                                            <mat-chip *ngFor="let file of upload.get('files').value" selectable
                                                removable (removed)="removeFile(file)">
                                                <div style="display: flex; width: 100%;">
                                                    <span
                                                        style="display: block; width: 200px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">{{file.name}}</span>
                                                    <span class="space"></span>
                                                    <mat-icon matChipRemove>cancel</mat-icon>
                                                </div>
                                            </mat-chip>
                                        </mat-chip-list>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="space"></div>
                    <div class="form-controls buttons-theme">
                        <span class="space"></span>
                        <button mat-stroked-button class="stepper-button" matStepperPrevious #StepperControlButton>
                            <mat-icon style="margin-right: 5px; transform: rotate(180deg);">forward</mat-icon>
                            <span>{{dictionaryService.get('BCK')}}</span>
                        </button>
                        <button mat-raised-button class="stepper-button" style="margin-left: 10px;" color="primary"
                            (click)="openSendSOAPDialog()" #StepperControlButton>
                            <span>{{dictionaryService.get('SND')}}</span>
                            <mat-icon style="margin-left: 5px;">email</mat-icon>
                        </button>
                    </div>
                </form>
            </mat-step>


            <!--general information mat-step for organization-->
            <mat-step *ngIf="storageService.customerType === 'organization'" [stepControl]="generalInformation">
                <form [formGroup]="generalInformation">
                    <ng-template matStepLabel>{{dictionaryService.get('GENINF')}}</ng-template>
                    <div class="vertical-flex bottom-border top-border">
                        <div class="flex-column">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('GENINF')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('LEGFRM')}}</mat-label>
                                            <mat-select formControlName="legalForm" required>
                                                <mat-option *ngFor="let form of legalForms" [value]="form">
                                                    {{form.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of generalInformation.get('legalForm').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('LEGFRM', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('INTERFNUM')}}</mat-label>
                                            <input matInput formControlName="interfaceNumber">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('SAL')}}</mat-label>
                                            <mat-select formControlName="salutation">
                                                <mat-option *ngFor="let sal of salutations" [value]="sal">
                                                    {{sal.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of generalInformation.get('salutation').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('SAL', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('COMPERS')}}</mat-label>
                                            <input matInput formControlName="orgaPersons" required>
                                            <mat-error
                                                *ngFor="let errorType of generalInformation.get('orgaPersons').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('COMPERS', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>

                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('ADNAME')}}</mat-label>
                                            <input matInput formControlName="additionalName">
                                        </mat-form-field>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="space"></div>
                    <div class="form-controls buttons-theme">
                        <span class="space"></span>
                        <button mat-stroked-button class="stepper-button" matStepperNext #StepperControlButton>
                            <span>{{dictionaryService.get('NXT')}}</span>
                            <mat-icon style="margin-left: 5px;">forward</mat-icon>
                        </button>
                    </div>
                </form>
            </mat-step>

            <!--address information mat-step for organization-->
            <mat-step *ngIf="storageService.customerType === 'organization'" [stepControl]="contactInformation">
                <form [formGroup]="contactInformation">
                    <ng-template matStepLabel>{{dictionaryService.get('CONTINF')}}</ng-template>
                    <div class="vertical-flex bottom-border top-border">
                        <div class="flex-column">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('CONTINF')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 65%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('STR')}}</mat-label>
                                            <input matInput formControlName="street" required>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('street').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('STR', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 35%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('HNO')}}</mat-label>
                                            <input matInput formControlName="houseNumber" required>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('houseNumber').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('HNO', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 35% ">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('ZIP')}}</mat-label>
                                            <input matInput formControlName="zip" required>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('zip').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('ZIP', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 65%">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('CITY')}}</mat-label>
                                            <input matInput formControlName="city" required>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('city').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('CITY', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 100%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('COU')}}</mat-label>
                                            <mat-select formControlName="country" #singleSelect required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="countrySearchCtrl">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngFor="let country of filteredCountries | async"
                                                    [value]="country">
                                                    {{country.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of contactInformation.get('country').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('COU', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('MAILBX')}}</mat-label>
                                            <input matInput formControlName="mailbox">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('MAILBXZIP')}}</mat-label>
                                            <input matInput formControlName="zipMailbox">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('TEL')}}</mat-label>
                                            <input matInput formControlName="phone">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('FAX')}}</mat-label>
                                            <input matInput formControlName="fax">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('MOB')}}</mat-label>
                                            <input matInput formControlName="mobile">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('EMAIL')}}</mat-label>
                                            <input matInput formControlName="email">
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="space"></div>
                    <div class="form-controls buttons-theme">
                        <span class="space"></span>
                        <button mat-stroked-button class="stepper-button" matStepperPrevious #StepperControlButton>
                            <mat-icon style="margin-right: 5px; transform: rotate(180deg);">forward</mat-icon>
                            <span>{{dictionaryService.get('BCK')}}</span>
                        </button>
                        <button mat-stroked-button class="stepper-button" style="margin-left: 10px;" matStepperNext
                            #StepperControlButton>
                            <span>{{dictionaryService.get('NXT')}}</span>
                            <mat-icon style="margin-left: 5px;">forward</mat-icon>
                        </button>
                    </div>
                </form>
            </mat-step>

            <!--applicant information mat-step for organization-->
            <mat-step [stepControl]="applicant"
                *ngIf="storageService.customerType === 'organization' && storageService.debitCreditType === 'debit'">
                <form [formGroup]="applicant">
                    <ng-template matStepLabel>{{dictionaryService.get('APP')}}</ng-template>
                    <div class="vertical-flex bottom-border top-border">
                        <div class="flex-column" *ngIf="generalInformation.get('legalForm').value.details !== 'Privat'">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('APP')}}</h2>
                            </div>
                            <!--1. Col-->
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('SAL')}}</mat-label>
                                            <mat-select formControlName="salutation">
                                                <mat-option *ngFor="let sal of salutationsApplicant"
                                                    [value]="sal">
                                                    {{sal.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('salutation').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('SAL', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('FNAME')}}</mat-label>
                                            <input matInput formControlName="firstName" required>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('firstName').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('FNAME', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('SNAME')}}</mat-label>
                                            <input matInput formControlName="secondName" required>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('secondName').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('SNAME', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('TEL')}}</mat-label>
                                            <input matInput formControlName="phone">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('MOB')}}</mat-label>
                                            <input matInput formControlName="mobile">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div style="width: 50%">
                                    <mat-form-field class="paddinglr10px" color="accent" appearance="outline">
                                        <mat-label>{{dictionaryService.get('EMAIL')}}</mat-label>
                                        <input matInput formControlName="email">
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>

                        <!--1. Col-->
                        <div class="flex-column" *ngIf="generalInformation.get('legalForm').value.details === 'Privat'">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('APP1')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('SAL')}}</mat-label>
                                            <mat-select formControlName="salutation1">
                                                <mat-option *ngFor="let sal of salutationsApplicant"
                                                    [value]="sal">
                                                    {{sal.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('salutation1').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('SAL', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('FNAME')}}</mat-label>
                                            <input matInput formControlName="firstName1" required>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('firstName1').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('FNAME', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('SNAME')}}</mat-label>
                                            <input matInput formControlName="secondName1" required>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('secondName1').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('SNAME', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('BRTH')}}</mat-label>
                                            <input matInput [matDatepicker]="birthDate1" formControlName="birthDate1"
                                                required>
                                            <mat-datepicker-toggle matSuffix [for]="birthDate1">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #birthDate1></mat-datepicker>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('birthDate1').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('BRTH', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('TEL')}}</mat-label>
                                            <input matInput formControlName="phone1">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('MOB')}}</mat-label>
                                            <input matInput formControlName="mobile1">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('EMAIL')}}</mat-label>
                                            <input matInput formControlName="email1">
                                        </mat-form-field>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!--2. Col-->
                        <div class="flex-column" *ngIf="generalInformation.get('legalForm').value.details === 'Privat'">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('APP2')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('SAL')}}</mat-label>
                                            <mat-select formControlName="salutation2">
                                                <mat-option *ngFor="let sal of salutationsApplicant"
                                                    [value]="sal">
                                                    {{sal.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('salutation2').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('SAL', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('FNAME')}}</mat-label>
                                            <input matInput formControlName="firstName2" required>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('firstName2').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('FNAME', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('SNAME')}}</mat-label>
                                            <input matInput formControlName="secondName2" required>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('secondName2').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('SNAME', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">

                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('BRTH')}}</mat-label>
                                            <input matInput [matDatepicker]="birthDate2" formControlName="birthDate2"
                                                required>
                                            <mat-datepicker-toggle matSuffix [for]="birthDate2">
                                            </mat-datepicker-toggle>
                                            <mat-datepicker #birthDate2></mat-datepicker>
                                            <mat-error
                                                *ngFor="let errorType of applicant.get('birthDate2').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('BRTH', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('TEL')}}</mat-label>
                                            <input matInput formControlName="phone2">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('MOB')}}</mat-label>
                                            <input matInput formControlName="mobile2">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('EMAIL')}}</mat-label>
                                            <input matInput formControlName="email2">
                                        </mat-form-field>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div class="space"></div>
                    <div class="form-controls buttons-theme">
                        <span class="space"></span>
                        <button mat-stroked-button class="stepper-button" matStepperPrevious #StepperControlButton>
                            <mat-icon style="margin-right: 5px; transform: rotate(180deg);">forward</mat-icon>
                            <span>{{dictionaryService.get('BCK')}}</span>
                        </button>
                        <button mat-stroked-button class="stepper-button" style="margin-left: 10px;" matStepperNext
                            #StepperControlButton>
                            <span>{{dictionaryService.get('NXT')}}</span>
                            <mat-icon style="margin-left: 5px;">forward</mat-icon>
                        </button>
                    </div>
                </form>
            </mat-step>

            <!--payment mat-step for organization-->
            <mat-step [stepControl]="payment" *ngIf="storageService.customerType === 'organization'">
                <form [formGroup]="payment">
                    <ng-template matStepLabel>{{dictionaryService.get('PAYINF')}}</ng-template>
                    <div class="vertical-flex bottom-border top-border">
                        <div class="flex-column">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('PAYINF')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('TAX')}}</mat-label>
                                            <input matInput formControlName="taxId">
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('VAT')}}</mat-label>
                                            <input matInput formControlName="vatId">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('INDFI')}}</mat-label>
                                            <mat-select formControlName="industryField" required>
                                                <mat-option *ngFor="let field of listService.industryFields"
                                                    [value]="field">
                                                    {{field.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of payment.get('industryField').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('INDFI', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('INDFICODE')}}</mat-label>
                                            <mat-select [attr.disabled]="!payment.get('industryField').value"
                                                formControlName="industryFieldCode" #singleSelect required>
                                                <mat-option>
                                                    <ngx-mat-select-search [formControl]="industryFieldCodesSearchCtrl">
                                                    </ngx-mat-select-search>
                                                </mat-option>
                                                <mat-option *ngFor="let code of filteredFieldCodes | async"
                                                    [value]="code">
                                                    {{code.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of payment.get('industryFieldCode').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('INDFICODE', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex; margin-bottom: 20px; margin-left:10px">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <form [formGroup]="payment" appearance="outline" color="accent">
                                            <mat-label *ngIf="storageService.debitCreditType === 'debit'">
                                                {{dictionaryService.get('RSEPA')}}</mat-label>
                                            <mat-label *ngIf="storageService.debitCreditType === 'credit'">
                                                {{dictionaryService.get('HSEPA')}}</mat-label>
                                            <div style="margin-top: 10px;">
                                                <mat-radio-group formControlName="sepa">
                                                    <mat-radio-button [value]="true" (click)="setIbanRequired()">
                                                        {{dictionaryService.get('YES')}}
                                                    </mat-radio-button>
                                                    <mat-radio-button [value]="false" [checked]="true"
                                                        (click)="unsetIbanRequired()" style="margin-left:40px">
                                                        {{dictionaryService.get('NO')}}</mat-radio-button>
                                                </mat-radio-group>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('IBA')}}</mat-label>
                                            <input matInput formControlName="iban"
                                                [required]="payment.get('sepa').value === true">
                                            <mat-error
                                                *ngIf="payment.get('sepa').value === true && payment.get('iban').invalid">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('IBA', 'required')}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div *ngIf="storageService.debitCreditType === 'debit'" class="paddinglr10px"
                                        style="width: 50%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('CRELMT')}}</mat-label>
                                            <input matInput formControlName="creditLimit">
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 100%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('PAYTERMS')}}</mat-label>
                                            <mat-select formControlName="paymentTerm" required>
                                                <mat-option *ngFor="let term of paymentTerms" [value]="term">
                                                    {{term.details}}
                                                </mat-option>
                                            </mat-select>
                                            <mat-error
                                                *ngFor="let errorType of payment.get('paymentTerm').errors | keyvalue;">
                                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                                {{errorMessageService.getError('PAYTERMS', errorType.key)}}
                                            </mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>

                                <div style="display: flex;">
                                    <div class="paddinglr10px" style="width: 100%;">
                                        <mat-form-field color="accent" appearance="outline">
                                            <mat-label>{{dictionaryService.get('REMARKS')}}</mat-label>
                                            <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="4" maxlength="72"
                                                cdkAutosizeMaxRows="4" formControlName="notes"></textarea>
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="space"></div>
                    <div class="form-controls buttons-theme">
                        <span class="space"></span>
                        <button mat-stroked-button class="stepper-button" matStepperPrevious #StepperControlButton>
                            <mat-icon style="margin-right: 5px; transform: rotate(180deg);">forward</mat-icon>
                            <span>{{dictionaryService.get('BCK')}}</span>
                        </button>
                        <button mat-stroked-button class="stepper-button" style="margin-left: 10px;" matStepperNext
                            #StepperControlButton>
                            <span>{{dictionaryService.get('NXT')}}</span>
                            <mat-icon style="margin-left: 5px;">forward</mat-icon>
                        </button>
                    </div>
                </form>
            </mat-step>

            <!--upload mat-step for organization-->
            <mat-step [stepControl]="upload" *ngIf="storageService.customerType === 'organization'">
                <form [formGroup]="upload">
                    <ng-template matStepLabel>{{dictionaryService.get('ATTACH')}}</ng-template>
                    <div class="vertical-flex bottom-border top-border">
                        <div class="flex-column">
                            <div class="stepper-title">
                                <h2>{{dictionaryService.get('ATTACH')}}</h2>
                            </div>
                            <div class="stepper-data">
                                <div style="display: flex;">
                                    <div class="paddinglr10px buttons-theme" style="width: 50%;">
                                        <button mat-stroked-button style="height: 46px; width: 200px;" color="primary"
                                            (click)="fileInput.click()">
                                            <span>{{dictionaryService.get('ADDFILE')}}</span>
                                            <mat-icon style="margin-right: 5px;">attach_file</mat-icon>
                                        </button>
                                        <input type="file" #fileInput id="fileInput" (input)="uploadFile($event)"
                                            multiple="multiple" style="display:none;">
                                    </div>
                                    <div class="paddinglr10px" style="width: 50%;">
                                        <mat-chip-list class="mat-chip-list-stacked">
                                            <mat-chip *ngFor="let file of upload.get('files').value" selectable
                                                removable (removed)="removeFile(file)">
                                                <div style="display: flex; width: 100%;">
                                                    <span
                                                        style="display: block; width: 200px; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;">{{file.name}}</span>
                                                    <span class="space"></span>
                                                    <mat-icon matChipRemove>cancel</mat-icon>
                                                </div>
                                            </mat-chip>
                                        </mat-chip-list>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="space"></div>
                    <div class="form-controls buttons-theme">
                        <span class="space"></span>
                        <button mat-stroked-button class="stepper-button" matStepperPrevious #StepperControlButton>
                            <mat-icon style="margin-right: 5px; transform: rotate(180deg);">forward</mat-icon>
                            <span>{{dictionaryService.get('BCK')}}</span>
                        </button>
                        <button mat-raised-button class="stepper-button" style="margin-left: 10px;" color="primary"
                            (click)="openSendSOAPDialog()" #StepperControlButton>
                            <span>{{dictionaryService.get('SND')}}</span>
                            <mat-icon style="margin-left: 5px;">email</mat-icon>
                        </button>
                    </div>
                </form>
            </mat-step>
        </mat-horizontal-stepper>
    </div>
</div>