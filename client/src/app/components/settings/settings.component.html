<div class="inner-component">
    <div class="form-vertical-flex">
        <div class="form-flex-column">
            <form [formGroup]="changeForm" class="alternate-theme">
                <div class="form-title">
                    <h2>{{dictionaryService.get('ACC')}}</h2>
                    <hr flex />
                </div>
                <div class="form-data">
                    <div class="paddinglr10px" style="margin-top: 10px;">
                        <mat-form-field color="primary" appearance="outline" disabled>
                            <mat-label>{{dictionaryService.get('USRNAME')}}</mat-label>
                            <input matInput formControlName="username" required>
                            <mat-error *ngFor="let errorType of changeFormControl.username.errors | keyvalue;">
                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                {{errorMessageService.getError('USRNAME', errorType.key)}}
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="paddinglr10px">
                        <mat-form-field color="primary" appearance="outline" disabled>
                            <mat-label>{{dictionaryService.get('EMAIL')}}</mat-label>
                            <input matInput formControlName="email" required>
                            <mat-error *ngFor="let errorType of changeFormControl.email.errors | keyvalue;">
                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                {{errorMessageService.getError('EMAIL', errorType.key)}}
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="paddinglr10px">
                        <mat-form-field color="primary" appearance="outline">
                            <mat-label>{{dictionaryService.get('COMCODE')}}</mat-label>
                            <mat-select formControlName="companyCode" required [(ngModel)]="selected">
                                <mat-option *ngFor="let field of listService.companyCodes" [value]="field.code">
                                    {{field.details}}
                                </mat-option>
                            </mat-select>
                            <mat-error *ngFor="let errorType of  changeFormControl.companyCode.errors | keyvalue;">
                                <mat-icon style="margin-right: 5px;">error</mat-icon>
                                {{errorMessageService.getError('COMCODE', errorType.key)}}
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div style="display: flex; align-items: center; padding: 0 10px 20px 10px;">
                        <button class="button" type="button" mat-stroked-button (click)="setPassword()">
                            <span style="font-size: 12pt">{{dictionaryService.get('CHNGPSWD')}}</span>
                            <mat-icon style="font-size: 30px; margin-top: -5px;" *ngIf="changePassword">arrow_drop_up
                            </mat-icon>
                            <mat-icon style="font-size: 30px; margin-top: -5px;" *ngIf="!changePassword">arrow_drop_down
                            </mat-icon>
                        </button>
                    </div>
                    <div *ngIf="changePassword">
                        <div class="paddinglr10px">
                            <mat-form-field color="primary" appearance="outline">
                                <mat-label>{{dictionaryService.get('PSWDOLD')}}</mat-label>
                                <input matInput formControlName="passwordOld" [type]="hide0 ? 'password' : 'text'"
                                    required (keyup.enter)="change()">
                                <button type="button" mat-icon-button matSuffix (click)="hide0 = !hide0;">
                                    <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </button>
                                <mat-error *ngFor="let errorType of changeFormControl.passwordOld.errors | keyvalue;">
                                    <mat-icon style="margin-right: 5px;">error</mat-icon>
                                    {{errorMessageService.getError('PSWDOLD', errorType.key)}}
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="paddinglr10px">
                            <mat-form-field color="primary" appearance="outline">
                                <mat-label>{{dictionaryService.get('PSWD')}}</mat-label>
                                <input matInput formControlName="password" [type]="hide1 ? 'password' : 'text'"
                                    required (keyup.enter)="change()">
                                <button type="button" mat-icon-button matSuffix (click)="hide1 = !hide1;">
                                    <mat-icon>{{hide1 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </button>
                                <mat-error *ngFor="let errorType of changeFormControl.password.errors | keyvalue;">
                                    <mat-icon style="margin-right: 5px;">error</mat-icon>
                                    {{errorMessageService.getError('PSWD', errorType.key)}}
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div class="paddinglr10px">
                            <mat-form-field color="primary" appearance="outline">
                                <mat-label>{{dictionaryService.get('PSWDCONF')}}</mat-label>
                                <input matInput formControlName="confirmPassword" [type]="hide2 ? 'password' : 'text'"
                                    required (keyup.enter)="change()">
                                <button type="button" mat-icon-button matSuffix (click)="hide2 = !hide2;">
                                    <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                </button>
                                <mat-error
                                    *ngFor="let errorType of changeFormControl.confirmPassword.errors | keyvalue;">
                                    <mat-icon *ngIf="errorType.key != 'mustMatch'" style="margin-right: 5px;">error
                                    </mat-icon>
                                    {{errorMessageService.getError('PSWDCONF', errorType.key)}}
                                </mat-error>
                                <mat-error
                                    [style.visibility]="changeFormControl.confirmPassword.errors?.mustMatch ? 'visible' : 'hidden'">
                                    <mat-icon style="margin-right: 5px;">error</mat-icon>
                                    {{dictionaryService.get('PSWDNMATCH')}}
                                </mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="space"></div>
        <div class="form-controls buttons-theme">
            <span class="space"></span>
            <button class="button" mat-raised-button (click)="change()" color="primary"
                style="height: 40px; margin-left: 10px;">{{dictionaryService.get('CHNG')}}</button>
        </div>
    </div>
</div>